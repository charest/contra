fn index_task(i64 id, i64 ilocal, i64 iglobal, i64 arr[])
  
  print("Hello world from task %d, with local arg %d, and global arg %d and %d!\n",
    id, ilocal, iglobal, arr[id])


tsk top_level() {
  
  num_points = 10
  print("Running hello world redux for %d points...\n", num_points)

  arr = [0; num_points]
  for i = 0 : num_points-1
    arr[i] = i

  foreach i = 0:num_points-1
    index_task(i, i+10, num_points, arr)

}

top_level()
