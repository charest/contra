tsk top_level() {
  
  num_points = 4
  num_parts = 2
  parts = 0 : num_parts-1
  points = 0 : num_points-1

  myid[points] = -1

  foreach i = parts {
    for j = 0:length(points)-1 {
      print("Loop with parition %d and local id %d\n", i, j)
      myid[j] = j
    }
  }
  
  foreach i = parts {
    for j = 0:length(points)-1
      print("Loop with parition %d and local id %d\n", i, myid[j])
  }
  
  foreach i = points 
    print("Loop with counter %d and myid is now %d\n", i, myid)

}

top_level()
